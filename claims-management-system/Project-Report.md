# Chapter 5: System Implementation and Testing

## 5.2 Setup Description

### 5.2.1 Solution Set Up

The developed solution is a full-stack web application designed to streamline the claims management process for patients, hospitals, and insurance providers. It consists of a React.js frontend that communicates with a Node.js backend, which in turn interacts with a PostgreSQL database.

**Front End:**

*   **Technology:** React.js
*   **Environment:** The frontend runs in a standard Node.js environment and is served via a development server on `http://localhost:3000`.
*   **Frameworks:** The application is built on the React framework, utilizing its component-based architecture for a modular and maintainable user interface.
*   **Libraries:**
    *   `axios`: For making HTTP requests to the backend API.
    *   `react-router-dom`: For handling client-side routing and navigation.
    *   `bootstrap`: For styling and responsive design.
*   **IDE:** The frontend was developed using Visual Studio Code.
*   **Language:** JavaScript (ES6+)

**Back End:**

*   **Technology:** Node.js with Express.js
*   **Environment:** The backend runs in a standard Node.js environment and is served via a development server on `http://localhost:5000`.
*   **Frameworks:** The application is built on the Express.js framework, providing a robust and minimalist structure for the backend API.
*   **Libraries:**
    *   `express`: The core framework for building the API.
    *   `cors`: For enabling Cross-Origin Resource Sharing between the frontend and backend.
    *   `body-parser`: For parsing incoming request bodies.
    *   `pg`: For interacting with the PostgreSQL database.
    *   `jsonwebtoken`: For implementing JSON Web Token-based authentication.
    *   `bcryptjs`: For hashing user passwords before storing them in the database.
    *   `dotenv`: For managing environment variables.
*   **IDE:** The backend was developed using Visual Studio Code.
*   **Language:** JavaScript (ES6+)
*   **Database:** PostgreSQL is used as the database for this project.
*   **Backup:** The database schema is defined in `claims-backend/schema.sql`, and the test data can be regenerated at any time by running the `npm run seed` command in the `claims-backend` directory.

### 5.2.2 Stakeholder Interaction

The application provides distinct login portals and dashboards for each stakeholder, ensuring that they can only access the features and data relevant to their role.

*   **Patients:** Can log in to view the status of their claims and any associated invoices.
*   **Hospital Staff:** Can log in to submit new claims on behalf of patients and view the status of all claims submitted by them.
*   **Insurer Staff:** Can log in to review pending claims, approve or reject them, and add messages to provide reasons for their decisions.
*   **System Admins:** Can log in to view a comprehensive overview of all claims in the system.

The rights and responsibilities of each user role are enforced through a combination of frontend UI controls and backend API authorization middleware. The backend's `authMiddleware.js` verifies the user's JWT on every protected request and checks their role before granting access to specific resources.

**Reporting:**

The application generates several reports to support decision-making:

*   **Patient Claims Report:** Generated by patients to view the status of their claims. (See Appendix 1)
*   **Hospital Claims Report:** Generated by hospital staff to view the status of all claims submitted by them. (See Appendix 2)
*   **Insurer Claims Report:** Generated by insurer staff to review pending claims. (See Appendix 3)
*   **System Admin Claims Report:** Generated by system admins to view a comprehensive overview of all claims in the system. (See Appendix 4)

### 5.2.3 Challenges

The development process was not without its challenges. The most significant of these were:

*   **CORS and Authentication Errors:** The initial setup was plagued by a series of `403 Forbidden` and `404 Not Found` errors. These were caused by a combination of misconfigured CORS policies, bugs in the authentication middleware, and incorrect routing. These issues were overcome through a systematic debugging process that involved adding detailed logging, refactoring the backend routing system, and carefully correcting the frontend API calls.
*   **Role-Based Access Control:** Implementing a robust and secure role-based access control system was a complex task. It required careful planning of the database schema, the backend authorization logic, and the frontend UI to ensure that each user role had the correct permissions.

## 5.3 Testing

The application was tested using a combination of manual and automated testing methods.

*   **Manual Testing:** The application was manually tested by performing a series of user acceptance tests (UAT) to ensure that all features were working as expected.
*   **Automated Testing:** The backend was tested using a series of unit tests for the API endpoints.

### Test Cases

**Test Case 1: Patient Login**

*   **Type of Test:** Functional Test
*   **Functionality Tested:** Patient login
*   **Test Environment:** Local development environment
*   **Test Tool:** Manual
*   **Test Case:**
    1.  Navigate to the patient login page.
    2.  Enter the email and password for a valid patient user.
    3.  Click the "Login" button.
*   **Expected Result:** The user is redirected to the patient dashboard.
*   **Actual Result:** The user is redirected to the patient dashboard.
*   **Pass/Fail:** Pass
*   **Evidence:** See Appendix 5

**Test Case 2: Hospital Staff Claim Submission**

*   **Type of Test:** Functional Test
*   **Functionality Tested:** Hospital staff claim submission
*   **Test Environment:** Local development environment
*   **Test Tool:** Manual
*   **Test Case:**
    1.  Log in as a hospital staff member.
    2.  Navigate to the "Submit New Claim" page.
    3.  Fill out the claim submission form with valid data.
    4.  Click the "Submit" button.
*   **Expected Result:** A new claim is created in the database, and the user is redirected to the hospital staff dashboard.
*   **Actual Result:** A new claim is created in the database, and the user is redirected to the hospital staff dashboard.
*   **Pass/Fail:** Pass
*   **Evidence:** See Appendix 6

**Test Case 3: Insurer Staff Claim Approval**

*   **Type of Test:** Functional Test
*   **Functionality Tested:** Insurer staff claim approval
*   **Test Environment:** Local development environment
*   **Test Tool:** Manual
*   **Test Case:**
    1.  Log in as an insurer staff member.
    2.  Navigate to the dashboard and select a pending claim.
    3.  Click the "Approve" button.
*   **Expected Result:** The claim's status is updated to "Approved" in the database.
*   **Actual Result:** The claim's status is updated to "Approved" in the database.
*   **Pass/Fail:** Pass
*   **Evidence:** See Appendix 7